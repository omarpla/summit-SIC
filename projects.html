<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>مشاريعنا — Projects</title>

  <!-- خط عربي (Cairo) -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #fff7ed;
      --dark: #0b1840;
      --primary: #ff7a00;
      --secondary: #ffb86b;
      --card-bg: #ffffff;
      --muted: #6b7280;
      --accent: #7c3aed;
      --shadow: 0 6px 18px rgba(11,24,64,0.08);
      --gap: 1rem;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Cairo", sans-serif;
      background: var(--bg);
      color: var(--dark);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    .container{max-width:1200px;margin:0 auto;padding:0 1rem;}

    #projects{padding:4.5rem 0;}
    .projects-header{text-align:center;margin-bottom:3.5rem}
    .projects-header h2{
      font-size:2.25rem;
      margin:0 0 .5rem;
      font-weight:800;
      color: #fff;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      display:inline-block;
      padding: .35rem .9rem;
      border-radius:8px;
      position:relative;
      box-shadow:var(--shadow);
      text-transform: none;
    }
    .underline{width:96px;height:6px;background:var(--secondary);margin:0.75rem auto;border-radius:4px}
    .projects-header p{color:var(--muted);margin-top:1rem;max-width:820px;margin-left:auto;margin-right:auto}

    .projects-shell{position:relative}

    .controls{display:flex;gap:.5rem;align-items:center;justify-content:center;margin-top:1rem;}
    .btn{background:var(--card-bg);border:1px solid rgba(11,24,64,0.06);padding:.45rem .7rem;border-radius:8px;cursor:pointer;box-shadow:var(--shadow);display:inline-flex;align-items:center;justify-content:center;}
    .btn:active{transform:translateY(1px)}
    .dots{display:flex;gap:.4rem;align-items:center}
    .dot{width:10px;height:10px;border-radius:50%;background:rgba(11,24,64,0.12);cursor:pointer;transition:all .2s;}
    .dot.active{background:var(--primary);transform:scale(1.15);}

    .carousel{overflow:hidden;position:relative;-webkit-user-select:none;user-select:none;}
    .slides{display:flex;gap:var(--gap);transition:transform .45s cubic-bezier(.2,.9,.2,1);will-change:transform;}
    .slide{min-width:100%;flex:0 0 100%;display:flex;align-items:stretch;gap:.9rem;}

    .card{background:var(--card-bg);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);width:100%;display:flex;flex-direction:column;}
    .card-visual{height:200px;display:flex;align-items:center;justify-content:center;color:white;font-size:2rem;}
    .card-body{padding:1.15rem}
    .card h3{margin:0 0 .4rem;font-size:1.15rem;font-weight:700}
    .card p{margin:0;color:var(--muted);font-size:0.95rem}

    @media (min-width:768px){
      .slides{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem;}
      .slide{min-width:unset;flex:unset}
      .carousel{overflow:visible}
    }

    .g-primary{background:linear-gradient(135deg,var(--primary),var(--secondary))}
    .g-secondary{background:linear-gradient(135deg,var(--secondary),var(--accent))}
    .g-accent{background:linear-gradient(135deg,var(--accent),#4f46e5)}
    .g-4{background:linear-gradient(135deg,#06b6d4,#3b82f6)}
    .g-5{background:linear-gradient(135deg,#10b981,#06b6d4)}
    .g-6{background:linear-gradient(135deg,#f59e0b,#ef4444)}
    .g-7{background:linear-gradient(135deg,#8b5cf6,#ec4899)}
    .g-8{background:linear-gradient(135deg,#06b6d4,#7c3aed)}
    .g-9{background:linear-gradient(135deg,#ef4444,#fb7185)}
    .g-10{background:linear-gradient(135deg,#4f46e5,#06b6d4)}

    .card-hover{transition:transform .25s ease, box-shadow .25s ease}
    .card-hover:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(11,24,64,0.12)}
    .icon{font-size:1.9rem}

    .carousel-controls-wrap{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-top:.75rem}
    .left-controls{display:flex;align-items:center;gap:.5rem}
  </style>
</head>
<body>

  <section id="projects" class="py-20">
    <div class="container">
      <div class="projects-header text-center">
        <h2 class="ar-only">مشاريعنا</h2>
        <div class="underline" aria-hidden="true"></div>
        <p>نفخر بتنفيذ مشاريع متنوعة وناجحة في جميع أنحاء الكويت</p>
      </div>

      <div class="projects-shell">
        <div class="carousel" id="projectsCarousel" aria-roledescription="carousel">
          <div class="slides" id="slides">
            <!-- تم توسيع القائمة إلى 10 مشاريع -->
            <!-- slide 1 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 1">
                <div class="card-visual g-primary" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 5H21V19H3V5Z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M8 11L11 14L13 12L18 17" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 1</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 2 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 2">
                <div class="card-visual g-secondary" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="4" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M7 10H17" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 2</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 3 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 3">
                <div class="card-visual g-accent" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M3 20C3 16 7 13 12 13C17 13 21 16 21 20" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 3</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 4 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 4">
                <div class="card-visual g-4" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 6H20V18H4V6Z" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M8 10H16" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 4</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 5 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 5">
                <div class="card-visual g-5" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M2 17l10 5 10-5" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 5</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 6 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 6">
                <div class="card-visual g-6" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 3H21V7H3V3Z" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M3 11H21V21H3V11Z" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 6</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 7 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 7">
                <div class="card-visual g-7" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2a10 10 0 100 20 10 10 0 000-20z" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M8 12h8" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 7</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 8 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 8">
                <div class="card-visual g-8" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 6h18v12H3z" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M3 10h18" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 8</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 9 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 9">
                <div class="card-visual g-9" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 12h20" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M12 2v20" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 9</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

            <!-- slide 10 -->
            <div class="slide">
              <div class="card card-hover" role="group" aria-label="مشروع رقم 10">
                <div class="card-visual g-10" aria-hidden="true">
                  <svg class="icon" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 3h18v18H3z" stroke="currentColor" stroke-width="1.2"/>
                    <path d="M7 7h10v10H7z" stroke="currentColor" stroke-width="1.2"/>
                  </svg>
                </div>
                <div class="card-body">
                  <h3>مشروع رقم 10</h3>
                  <p>سيتم إضافة تفاصيل المشروع والموقع</p>
                </div>
              </div>
            </div>

          </div> <!-- /slides -->
        </div> <!-- /carousel -->

        <div class="carousel-controls-wrap container" style="max-width:900px;">
          <div class="left-controls">
            <button class="btn" id="prevBtn" aria-label="السابق">&larr;</button>
            <button class="btn" id="nextBtn" aria-label="التالي">&rarr;</button>
          </div>

          <div class="dots" id="dotsWrap" role="tablist" aria-label="مؤشرات المشاريع"></div>
        </div>

      </div>
    </div>
  </section>

  <script>
    (function(){
      const slidesEl = document.getElementById('slides');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const dotsWrap = document.getElementById('dotsWrap');
      const carousel = document.getElementById('projectsCarousel');

      const slides = Array.from(slidesEl.children);
      let index = 0;
      let autoplayInterval = null;
      const autoplayDelay = 3500;
      const mobileBreakpoint = 768;

      function createDots(){
        dotsWrap.innerHTML = '';
        slides.forEach((s,i)=>{
          const dot = document.createElement('button');
          dot.className = 'dot';
          dot.setAttribute('aria-label', `انتقال إلى الشريحة ${i+1}`);
          dot.addEventListener('click', ()=>goTo(i));
          dotsWrap.appendChild(dot);
        });
        updateDots();
      }

      function updateDots(){
        const dots = Array.from(dotsWrap.children);
        dots.forEach((d, i)=> d.classList.toggle('active', i === index));
      }

      function updateSlidesPosition(animate = true){
        if(window.innerWidth >= mobileBreakpoint){
          slidesEl.style.transform = '';
          return;
        }
        if(!animate) slidesEl.style.transition = 'none';
        else slidesEl.style.transition = '';
        const slideWidth = carousel.clientWidth;
        const offset = -index * slideWidth;
        slidesEl.style.transform = `translateX(${offset}px)`;
        if(!animate){
          requestAnimationFrame(()=>{ slidesEl.style.transition = ''; });
        }
        updateDots();
      }

      function goTo(i){
        index = Math.max(0, Math.min(i, slides.length - 1));
        updateSlidesPosition();
        resetAutoplay();
      }

      function next(){
        index = (index + 1) % slides.length;
        updateSlidesPosition();
      }
      function prev(){
        index = (index - 1 + slides.length) % slides.length;
        updateSlidesPosition();
      }

      function startAutoplay(){
        stopAutoplay();
        autoplayInterval = setInterval(()=>{
          if(window.innerWidth < mobileBreakpoint) next();
        }, autoplayDelay);
      }
      function stopAutoplay(){ if(autoplayInterval){ clearInterval(autoplayInterval); autoplayInterval = null; } }
      function resetAutoplay(){ stopAutoplay(); startAutoplay(); }

      // touch / swipe
      let startX = 0, deltaX = 0, isDragging = false;
      slidesEl.addEventListener('pointerdown', (e)=>{
        if(window.innerWidth >= mobileBreakpoint) return;
        isDragging = true;
        startX = e.clientX;
        deltaX = 0;
        slidesEl.style.transition = 'none';
        try { slidesEl.setPointerCapture(e.pointerId); } catch(e){}
      });
      slidesEl.addEventListener('pointermove', (e)=>{
        if(!isDragging) return;
        deltaX = e.clientX - startX;
        slidesEl.style.transform = `translateX(${ -index * carousel.clientWidth + deltaX }px)`;
      });
      slidesEl.addEventListener('pointerup', (e)=>{
        if(!isDragging) return;
        isDragging = false;
        slidesEl.style.transition = '';
        if(Math.abs(deltaX) > (carousel.clientWidth * 0.2)){
          if(deltaX > 0) prev(); else next();
        } else {
          updateSlidesPosition();
        }
        deltaX = 0;
        resetAutoplay();
        try { slidesEl.releasePointerCapture(e.pointerId); } catch(e){}
      });
      slidesEl.addEventListener('pointercancel', ()=>{
        if(!isDragging) return;
        isDragging = false;
        updateSlidesPosition();
      });

      document.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowLeft' || e.key === 'ArrowUp'){ prev(); resetAutoplay(); }
        if(e.key === 'ArrowRight' || e.key === 'ArrowDown'){ next(); resetAutoplay(); }
      });

      prevBtn.addEventListener('click', ()=>{ prev(); resetAutoplay(); });
      nextBtn.addEventListener('click', ()=>{ next(); resetAutoplay(); });

      let resizeTimer = null;
      window.addEventListener('resize', ()=>{
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(()=>{
          index = Math.min(index, slides.length - 1);
          updateSlidesPosition(false);
        }, 120);
      });

      createDots();
      updateSlidesPosition(false);
      startAutoplay();

      const liveRegion = document.createElement('div');
      liveRegion.setAttribute('aria-live','polite');
      liveRegion.style.position = 'absolute';
      liveRegion.style.left = '-9999px';
      liveRegion.style.width = '1px';
      liveRegion.style.height = '1px';
      liveRegion.style.overflow = 'hidden';
      document.body.appendChild(liveRegion);

      const observer = new MutationObserver(()=> {
        liveRegion.textContent = `الشريحة ${index+1} من ${slides.length}`;
      });
      observer.observe(slidesEl, { attributes: true, attributeFilter: ['style'] });

      document.addEventListener('visibilitychange', ()=>{
        if(document.hidden) stopAutoplay(); else startAutoplay();
      });

    })();
  </script>
</body>
</html>
